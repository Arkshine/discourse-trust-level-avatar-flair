<script type="text/x-handlebars" data-template-name="/connectors/user-card-avatar-flair/user-card-avatar-tl-flair">
    <div class="tl-{{user.trustLevel.name}} tl-flair user-card-avt"></div>
</script>

<script type="text/discourse-plugin" version="0.8.18">
    api.decorateWidget('post-avatar:after', dec => {
        var poster = dec.getModel();
        switch(poster.get('trust_level')) {
            case 0:
                return dec.rawHtml(`<div class="tl-new tl-flair topic-avt"></div>`);
            case 1:
                return dec.rawHtml(`<div class="tl-basic tl-flair topic-avt"></div>`);
            case 2:
                return dec.rawHtml(`<div class="tl-member tl-flair topic-avt"></div>`);
            case 3:
                return dec.rawHtml(`<div class="tl-regular tl-flair topic-avt"></div>`);
            case 4:
                return dec.rawHtml(`<div class="tl-leader tl-flair topic-avt"></div>`);
            default:
                console.log("Trust Level Flair Error: something went wrong when evaluating a user's trust level");
        }
    });
</script>

<script type="text/x-handlebars" data-template-name="/connectors/user-profile-avatar-flair/user-profile-avatar-tl-flair">
    <div class="tl-{{model.trustLevel.name}} tl-flair user-profile-avt"></div>
</script>
